# FEATURES

## 文档目的
维护功能清单、优先级分层与阶段状态。

## 当前状态
- 状态：v1 Frozen（设计冻结版）
- 来源：同步自 `docs/PRODUCT_SPEC.md` 的功能分层决策

## 上下文输入
- 当前阶段：仅产品设计草拟
- 当前约束：不进入实现细节，不写技术方案

## 预期输出
- 清晰的功能分层（MVP / Phase 2 / 暂不做）
- 每项功能可被后续路线图与接口文档引用

## 功能边界决策（Phase 1 Freeze）
1. 更新检测默认模式：MVP 默认手动触发，允许用户启用轻量定时检查（默认关闭）。
2. 体检/清理/修复最小边界：MVP 仅提供“检测 + 计划（plan-only）+ 明确确认”，默认不做静默自动修复。
3. Phase 2 搜索增强粒度：先做分类/标签/来源/风险四类筛选与排序解释，不引入复杂运营榜单体系。
4. Discovery 冲突处理：以 Registry 去重键为主，冲突记录保留来源证据并标记 `needs_review`，不自动覆盖高置信记录。

## 冻结功能清单（Phase 1 Freeze）
1. MVP 必做（核心闭环）
- 一键安装/升级/卸载
- 可更新软件检测（手动触发或轻量定时）
- 下载源基础安全校验（签名/来源/白名单）
- 软件体检、清理、修复能力最小安全子集
- 软件自动发现并生成个人软件库（Software Discovery）
- AI 软件整理分析（Analyze）
- AI 场景化安装建议（Recommend）
- AI 修复方案生成（Repair Plan，plan-only）
- 下载模块（受控下载 + 校验 + 审计）
- 软件仓库系统 MVP（公共仓库只读 + 个人仓库管理）

2. Phase 2 后置（增强能力）
- 软件展示与搜索增强（分类、筛选、可读性优化）
- 软件来源推荐能力增强（排序、解释信息完整度）
- 自动发现结果归并优化（重复项压缩、来源冲突解释）
- 插件系统（官方插件）扩展来源、更新策略、AI 工具与系统工具
- AI 修复受控执行（Repair Apply，默认关闭）
- 下载增强（多源镜像、断点续传优化、调度策略）
- 社区仓库贡献流程（software.yaml 提交、审核、发布）
- AI 辅助仓库条目生成与质量评分

3. 暂不做（当前阶段不投入）
- 重运营化的软件榜单体系
- 面向消费分发的评分生态
- 第三方开放插件市场（待安全模型成熟后再评估）
- AI 静默自动修复（无 confirm / 无 gate）

## 更新规则
- 功能层级变更时，必须同步更新：
  - `docs/PRODUCT_SPEC.md`
  - `docs/ROADMAP.md`
  - `logs/DEVELOPMENT_LOG.md`
- 本文档只记录“做什么”，不记录“怎么做”。
