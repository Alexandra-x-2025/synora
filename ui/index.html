<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Synora 中文界面</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["Space Grotesk", "system-ui", "sans-serif"],
            mono: ["IBM Plex Mono", "ui-monospace", "monospace"]
          }
        }
      }
    };
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body class="min-h-screen antialiased">
  <div class="bg-grid" aria-hidden="true"></div>
  <main class="relative z-10 mx-auto max-w-5xl px-4 pb-10 pt-7 sm:px-6">
    <header class="mb-4 flex flex-wrap items-center justify-between gap-2">
      <div class="flex items-center gap-2.5">
        <span class="h-3 w-3 rounded-full bg-gradient-to-br from-teal-700 to-teal-400"></span>
        <h1 id="titleText" class="m-0 text-xl font-bold tracking-tight">Synora 中文界面</h1>
      </div>
      <div class="flex items-center gap-2">
        <p id="subtitleText" class="m-0 text-sm text-stone-500">Phase 9：`ui search` / `ui action-run` 可视化入口</p>
        <button id="langZhBtn" class="rounded-md bg-stone-800 px-2 py-1 text-xs font-semibold text-white">中文</button>
        <button id="langEnBtn" class="rounded-md border border-stone-400 bg-white px-2 py-1 text-xs font-semibold text-stone-700">EN</button>
      </div>
    </header>

    <section class="mb-3 rounded-xl border border-stone-300 bg-amber-50/80 p-4 shadow-sm ring-1 ring-emerald-100">
      <label id="queryLabel" for="queryInput" class="mb-2 block text-sm font-semibold">搜索关键词</label>
      <div class="flex flex-col gap-2 sm:flex-row">
        <input id="queryInput" type="text" value="PowerToys" class="w-full rounded-lg border border-stone-300 bg-white px-3 py-2.5 font-mono text-sm outline-none focus:border-teal-600" />
        <button id="liveSearchBtn" class="rounded-lg bg-teal-700 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:brightness-95">实时搜索</button>
      </div>
      <div class="mt-2 flex flex-wrap gap-2">
        <button class="quick-query rounded-full border border-stone-300 bg-white px-2.5 py-1 text-xs text-stone-700" data-query="PowerToys">PowerToys</button>
        <button class="quick-query rounded-full border border-stone-300 bg-white px-2.5 py-1 text-xs text-stone-700" data-query="Visual Studio Code">Visual Studio Code</button>
        <button class="quick-query rounded-full border border-stone-300 bg-white px-2.5 py-1 text-xs text-stone-700" data-query="Git">Git</button>
      </div>
      <p id="liveSearchMeta" class="mt-1 text-sm text-stone-500"></p>
    </section>

    <section class="mb-3 rounded-xl border border-stone-300 bg-white/80 p-3.5 shadow-sm ring-1 ring-sky-100">
      <div class="mb-2.5 flex items-center justify-between gap-2">
        <h2 id="capabilityTitle" class="m-0 text-base font-semibold">功能总览</h2>
        <span id="capabilityMeta" class="text-xs text-stone-500"></span>
      </div>
      <p id="capabilitySubtitle" class="mb-3 text-sm text-stone-500">当前版本可用能力（按分类展示）</p>
      <div id="capabilityRoot" class="grid gap-3"></div>
    </section>

    <section class="mb-3 rounded-xl border border-stone-300 bg-amber-50/80 p-3.5 shadow-sm ring-1 ring-zinc-200">
      <div class="mb-2.5 flex items-center justify-between gap-2">
        <h2 id="groupTitle" class="m-0 text-base font-semibold">结果分组</h2>
        <div class="flex items-center gap-2">
          <button id="toggleFilterBtn" class="rounded-md border border-stone-300 bg-white px-2 py-1 text-xs text-stone-700">筛选</button>
          <span id="resultMeta" class="text-sm text-stone-500"></span>
        </div>
      </div>
      <div class="mb-3 hidden flex-wrap items-end gap-2" id="filterBar">
        <label id="riskLabel" class="text-xs text-stone-600">
          风险等级
          <select id="riskFilter" class="mt-1 block rounded-md border border-stone-300 bg-white px-2 py-1 text-sm">
            <option value="all">全部</option>
            <option value="low">低</option>
            <option value="medium">中</option>
            <option value="high">高</option>
          </select>
        </label>
        <label id="typeLabel" class="text-xs text-stone-600">
          分组类型
          <select id="groupFilter" class="mt-1 block rounded-md border border-stone-300 bg-white px-2 py-1 text-sm">
            <option value="all">全部</option>
            <option value="software">软件</option>
            <option value="source">来源</option>
            <option value="update">更新</option>
            <option value="download">下载</option>
            <option value="ai">AI</option>
          </select>
        </label>
      </div>
      <div id="groupsRoot" class="grid gap-3"></div>
      <p id="emptyState" class="hidden rounded-lg border border-dashed border-stone-300 bg-white px-3 py-6 text-center text-sm text-stone-500"></p>
    </section>

    <details class="rounded-xl border border-stone-300 bg-white/70 p-3.5 shadow-sm">
      <summary id="advancedTitle" class="cursor-pointer text-sm font-semibold text-stone-700">高级（开发调试）</summary>
      <div class="mt-3 grid gap-3">
        <section class="rounded-lg border border-stone-300 bg-amber-50/70 p-3">
          <div class="mb-2.5 flex items-center justify-between gap-2">
            <h2 id="payloadTitle" class="m-0 text-base font-semibold">粘贴 `ui search --json` 输出</h2>
            <button id="renderBtn" class="rounded-lg bg-orange-700 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:brightness-95">渲染结果</button>
          </div>
          <textarea id="payloadInput" spellcheck="false" aria-label="JSON payload" class="min-h-48 w-full resize-y rounded-lg border border-stone-300 bg-white px-3 py-2.5 font-mono text-sm outline-none focus:border-orange-700"></textarea>
          <p id="payloadErr" class="mt-2 min-h-4 text-sm text-red-800"></p>
        </section>
      </div>
    </details>

    <p id="actionRunMeta" class="mt-3 text-sm text-stone-600"></p>
  </main>

  <script src="./app.js"></script>
</body>
</html>
